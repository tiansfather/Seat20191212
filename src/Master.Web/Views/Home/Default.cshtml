@inherits Master.Web.Components.MasterRazorPage<TModel>
@using Master
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, Master.Web.Core
@inject Master.Timing.AppTimes AppTimes
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>layuiAdmin 控制台主页一</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link href="~/view-resources/Views/_Bundles/base.min.css" rel="stylesheet" asp-append-version="true" />
    <link rel="stylesheet" href="/assets/layuiadmin/layui/css/layui.css" media="all" asp-append-version="true">
    <link rel="stylesheet" href="/assets/layuiadmin/style/admin.css" media="all" asp-append-version="true">
</head>
<body>

    <div class="layui-fluid">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md8">
                <div class="layui-row layui-col-space15">
                    <div class="layui-col-md6">
                        <div class="layui-card">
                            <div class="layui-card-header">快捷方式</div>
                            <div class="layui-card-body">

                                <div class="layui-carousel layadmin-carousel layadmin-shortcut">
                                    <div carousel-item>
                                        <ul class="layui-row layui-col-space10">
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.NewSource"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/CaseSource/Add">
                                                        <i class="layui-icon layui-icon-tianjia"></i>
                                                        <cite>判例新增</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.SourceImport"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/CaseSource/Import">
                                                        <i class="layui-icon layui-icon-zzupload"></i>
                                                        <cite>导入判例</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.CaseSource"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/CaseSourceport">
                                                        <i class="layui-icon layui-icon-zzlist"></i>
                                                        <cite>判例库</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.CaseList"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/Case">
                                                        <i class="layui-icon layui-icon-diamond"></i>
                                                        <cite>成品案例</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.Knowledge"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/BaseTree/Knowledge">
                                                        <i class="layui-icon layui-icon-zcontrol-rank"></i>
                                                        <cite>知识树</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.Types"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/BaseTree/Types">
                                                        <i class="layui-icon layui-icon-zcontrol-rank"></i>
                                                        <cite>分类管理</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Admin.Tenancy.Labels"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/BaseTree/Labels">
                                                        <i class="layui-icon layui-icon-zcontrol-rank"></i>
                                                        <cite>标签管理</cite>
                                                    </a>
                                                </li>
                                            }
                                            @if (await PermissionChecker.IsGrantedAsync("Menu.Setting.Tenancy.BaseSetting"))
                                            {
                                                <li class="layui-col-xs3">
                                                    <a lay-href="/Setting/">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>基本设置</cite>
                                                    </a>
                                                </li>
                                            }

                                        </ul>
                                        @*<ul class="layui-row layui-col-space10">
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                                <li class="layui-col-xs3">
                                                    <a lay-href="set/user/info.html">
                                                        <i class="layui-icon layui-icon-set"></i>
                                                        <cite>我的资料</cite>
                                                    </a>
                                                </li>
                                            </ul>*@

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="layui-col-md6">
                        <div class="layui-card">
                            <div class="layui-card-header">数据汇总</div>
                            <div class="layui-card-body">

                                <div class="layui-carousel layadmin-carousel layadmin-backlog">
                                    <div carousel-item>
                                        <ul class="layui-row layui-col-space10">
                                            <li class="layui-col-xs6">
                                                <a href="#_" class="layadmin-backlog-body">
                                                    <h3>总判例数</h3>
                                                    <p><cite id="summary1">0</cite></p>
                                                </a>
                                            </li>
                                            <li class="layui-col-xs6">
                                                <a href="#_" class="layadmin-backlog-body">
                                                    <h3>总矿工数</h3>
                                                    <p><cite id="summary2">0</cite></p>
                                                </a>
                                            </li>
                                            <li class="layui-col-xs6">
                                                <a href="#_" class="layadmin-backlog-body">
                                                    <h3>初加工数</h3>
                                                    <p><cite id="summary3">0</cite></p>
                                                </a>
                                            </li>
                                            <li class="layui-col-xs6">
                                                <a href="#_" class="layadmin-backlog-body">
                                                    <h3>案例卡数</h3>
                                                    <p><cite id="summary4">0</cite></p>
                                                </a>
                                            </li>
                                        </ul>
                                        @*<ul class="layui-row layui-col-space10">
                                            <li class="layui-col-xs6">
                                                <a href="javascript:;" class="layadmin-backlog-body">
                                                    <h3>待审友情链接</h3>
                                                    <p><cite style="color: #FF5722;">5</cite></p>
                                                </a>
                                            </li>
                                        </ul>*@
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layui-col-md12">
                        <div class="layui-card">
                            <div class="layui-card-header">数据概览</div>
                            <div class="layui-card-body">

                                <div class="layui-carousel layadmin-carousel layadmin-dataview" data-anim="fade" lay-filter="LAY-index-dataview">
                                    <div carousel-item id="LAY-index-dataview">
                                        <div><i class="layui-icon layui-icon-loading1 layadmin-loading"></i></div>
                                        @*<div></div>*@
                                    </div>
                                </div>

                            </div>
                        </div>
                        @*<div class="layui-card">
                                <div class="layui-tab layui-tab-brief layadmin-latestData">
                                    <ul class="layui-tab-title">
                                        <li class="layui-this">今日热搜</li>
                                        <li>今日热帖</li>
                                    </ul>
                                    <div class="layui-tab-content">
                                        <div class="layui-tab-item layui-show">
                                            <table id="LAY-index-topSearch"></table>
                                        </div>
                                        <div class="layui-tab-item">
                                            <table id="LAY-index-topCard"></table>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                    </div>
                </div>
            </div>

            <div class="layui-col-md4">
                <div class="layui-card">
                    <div class="layui-card-header">版本信息</div>
                    <div class="layui-card-body layui-text">
                        <table class="layui-table">
                            <colgroup>
                                <col width="100">
                                <col>
                            </colgroup>
                            <tbody>
                                <tr>
                                    <td>当前版本</td>
                                    <td>
                                        v@(AppVersionHelper.Version)
                                    </td>
                                </tr>
                                @*<tr>
                                        <td></td>
                                        <td>

                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td style="padding-bottom: 0;">

                                        </td>
                                    </tr>*@
                            </tbody>
                        </table>
                    </div>
                </div>

                @*<div class="layui-card">
                        <div class="layui-card-header">效果报告</div>
                        <div class="layui-card-body layadmin-takerates">
                            <div class="layui-progress" lay-showPercent="yes">
                                <h3>转化率（日同比 28% <span class="layui-edge layui-edge-top" lay-tips="增长" lay-offset="-15"></span>）</h3>
                                <div class="layui-progress-bar" lay-percent="65%"></div>
                            </div>
                            <div class="layui-progress" lay-showPercent="yes">
                                <h3>签到率（日同比 11% <span class="layui-edge layui-edge-bottom" lay-tips="下降" lay-offset="-15"></span>）</h3>
                                <div class="layui-progress-bar" lay-percent="32%"></div>
                            </div>
                        </div>
                    </div>*@

                @*<div class="layui-card">
                        <div class="layui-card-header">实时监控</div>
                        <div class="layui-card-body layadmin-takerates">
                            <div class="layui-progress" lay-showPercent="yes">
                                <h3>CPU使用率</h3>
                                <div class="layui-progress-bar" lay-percent="58%"></div>
                            </div>
                            <div class="layui-progress" lay-showPercent="yes">
                                <h3>内存占用率</h3>
                                <div class="layui-progress-bar layui-bg-red" lay-percent="90%"></div>
                            </div>
                        </div>
                    </div>*@

                @*<div class="layui-card">
                        <div class="layui-card-header">产品动态</div>
                        <div class="layui-card-body">
                            <div class="layui-carousel layadmin-carousel layadmin-news" data-autoplay="true" data-anim="fade" lay-filter="news">
                                <div carousel-item>
                                    <div><a href="http://fly.layui.com/docs/2/" target="_blank" class="layui-bg-red">layuiAdmin 快速上手文档</a></div>
                                    <div><a href="http://fly.layui.com/vipclub/list/layuiadmin/" target="_blank" class="layui-bg-green">layuiAdmin 会员讨论专区</a></div>
                                    <div><a href="http://www.layui.com/admin/#get" target="_blank" class="layui-bg-blue">获得 layui 官方后台模板系统</a></div>
                                </div>
                            </div>
                        </div>
                    </div>*@

                @*<div class="layui-card">
                        <div class="layui-card-header">
                            作者心语
                            <i class="layui-icon layui-icon-tips" lay-tips="要支持的噢" lay-offset="5"></i>
                        </div>
                        <div class="layui-card-body layui-text layadmin-text">
                            <p>一直以来，layui 秉承无偿开源的初心，虔诚致力于服务各层次前后端 Web 开发者，在商业横飞的当今时代，这一信念从未动摇。即便身单力薄，仍然重拾决心，埋头造轮，以尽可能地填补产品本身的缺口。</p>
                            <p>在过去的一段的时间，我一直在寻求持久之道，已维持你眼前所见的一切。而 layuiAdmin 是我们尝试解决的手段之一。我相信真正有爱于 layui 生态的你，定然不会错过这一拥抱吧。</p>
                            <p>子曰：君子不用防，小人防不住。请务必通过官网正规渠道，获得 <a href="http://www.layui.com/admin/" target="_blank">layuiAdmin</a>！</p>
                            <p>—— 贤心（<a href="http://www.layui.com/" target="_blank">layui.com</a>）</p>
                        </div>
                    </div>*@
            </div>

        </div>
    </div>

    <script src="/assets/layuiadmin/layui/layui.js?t=1"></script>
    <environment include="Development">
        <script src="~/view-resources/Views/_Bundles/base.js" asp-append-version="true"></script>
    </environment>
    <environment include="Production">
        <script src="~/view-resources/Views/_Bundles/base.min.js" asp-append-version="true"></script>
    </environment>

    <script src="~/view-resources/Views/_Bundles/abp.min.js" asp-append-version="true"></script>
    <script src="/assets/js/abp.layer.js" asp-append-version="true"></script>
    <script src="~/assets/js/global.js" asp-append-version="true"></script>
    <!-- 全局js -->
    <!-- Dynamic scripts of ABP system (They are created on runtime and can not be bundled) -->
    <script src="~/scripts/GetAll.js?v=@(AppTimes.StartupTime.Ticks)" type="text/javascript"></script>
    @*<script src="~/scripts/GetScripts.js?v=@(AppTimes.StartupTime.Ticks)" type="text/javascript"></script>*@
    @*<script src="~/AbpServiceProxies/GetAll?v=@(AppTimes.StartupTime.Ticks)" type="text/javascript"></script>*@
    <script src="~/AbpScripts/GetScripts?v=@(AppTimes.StartupTime.Ticks)" type="text/javascript"></script>
    <script>
        layui.config({
            base: '/assets/layuiadmin/' //静态资源所在路径
        }).extend({
            index: 'lib/index' //主入口模块
        }).use(['index', 'console'], function () {
            abp.services.app.console.getSummary().done(o => {
                console.log(o);
                $("#summary1").html(o.sourceCount);
                $("#summary2").html(o.minerCount);
                $("#summary3").html(o.initialCount);
                $("#summary4").html(o.cardCount);
            })
        });
    </script>
</body>
</html>

